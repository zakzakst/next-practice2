# エラーコード管理表のサンプル

## エラー共通フォーマット

| フィールド名 | 型     | 必須 | 説明                                                 |
| ------------ | ------ | ---- | ---------------------------------------------------- |
| `code`       | string | ✅   | フロントエンドが判定に利用する機械可読なエラーコード |
| `message`    | string | ✅   | ユーザー表示用またはログ用途のメッセージ             |
| `details`    | object | 任意 | バリデーションやその他の詳細情報（任意構造）         |

## エラーコード一覧

| コード             | HTTP ステータス | 意味                             |
| ------------------ | --------------- | -------------------------------- |
| `UNAUTHORIZED`     | 401             | 認証が必要／トークンが無効       |
| `FORBIDDEN`        | 403             | 権限がない                       |
| `NOT_FOUND`        | 404             | 対象リソースが見つからない       |
| `VALIDATION_ERROR` | 400             | バリデーションエラー             |
| `CONFLICT`         | 409             | リソースの競合                   |
| `INTERNAL_ERROR`   | 500             | サーバー側のエラー（予期しない） |

## 各エンドポイントごとの許可エラーコード

| エンドポイント      | 許可エラーコード                             |
| ------------------- | -------------------------------------------- |
| `GET /api/user`     | `NOT_FOUND`, `UNAUTHORIZED`                  |
| `POST /api/user`    | `VALIDATION_ERROR`, `UNAUTHORIZED`           |
| `PUT /api/user/:id` | `VALIDATION_ERROR`, `FORBIDDEN`, `NOT_FOUND` |
